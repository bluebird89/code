## TDD

* 先确认需求，需求以测试的形式写出来，然后再去实现
* 找到驱动点
* 把程序从输入输出角度进行拆解
* 不会改程序
    - 考虑输入输出的具体格式
    - 拆子函数:想清楚作用域
* 测试分三批：
    - 第一批测试只有一个测试，意义是：定义输入输出，确定函数在哪。
    - 第二批测试的意义是：建立主干框架，把程序的主干走通。
    - 然后再写第三批测试，把各种分支和异常都考虑到。
* 不要过度设计
* 重构
    * 圈复杂度:每看到一个判断分支或者是一个循环分支，圈复杂度就加 1
    * 消除过程依赖
    * 一个问题发现的越晚修正它的成本就越高
* 需求不要脑补或者脑删
* 用一个具有表义性的词来称呼,称之为一般等价类
    - 名字的结构搬到我们的代码上，三段式表达，given 部分还是输入，when 部分就是被测函数，然后 then 部分写各种 assertion 来校验
* 加约束一定要提高整体效率
    - 代码逻辑和业务逻辑最大可能性的保持一致
    - 要尽量采用业务名词，业务概念
* 保证测试的正确性
    - 测试用例:它和实现是互相验证的。所以在写这个的时候有一个对自己的约束，那就是写测试的时候绝对不写实现，写实现的时候也绝对不写测试，两者之间有一个非常明确的边界：执行测试。
* 细粒度测试:准备数据

```
旧的不变
新的创建
一步切换
旧的再见
```

## 开发环境

* Maven或Gradle
* 在IntelliJ IDEA中新建一个Gradle项目，加上最后这句对JUnit的依赖

## Fizzbuzz

* 分析
    - 业务域（需求）:与需求方确认需求,确认需求时最重要的就是对概念的理解建立共识，识别概念的边界
    - 方案域:想想代码写完之后什么样.上下文图表达的是代码的静态关系
        + 画图的过程，是对程序的一个拆解，这个拆解的过程实际上也是伴随着设计
        + 画出一个一个只有数据依赖、没有过程依赖的小型的上下文:可测试性高的程序设计
        + 考虑输入是否容易准备、输出是否容易获得
        + 得到一个可测试的程序设计后，最后再理清一下，看看每个小型限界上下文的输入和输出，考虑输出的每个数据项是否都能从输入中得到所有的计算因子
    - 实现域
        + 第一步是得到实现域所需的任务列表：故事卡搬到看板上去，变成看板上的任务卡，按照实现的角度排列顺序调整优先级，并且补充相应的技术卡等卡片
        + 任务就分为这几类：沟通协调（技术类的，非需求类的）、技术调研、原型测试、编码实现
* 回归:每写完一段新的代码块，应该就考虑把所有的都打印出来看看有没有变化
* 自动化测试:转换为自动化的方式,校验的输入输出在开始之前也已经分析清楚了，那不妨在开始写代码之前就先把测试写出来
* 要求
    - 有充分的单元测试覆盖
* 需求一
    - 所有学生拍成一队，然后按顺序报数。
    - 学生报数时，如果所报数字是 3 的倍数，那么不能说该数字，而要说 Fizz；如果所报数字是 5 的倍数，那么要说 Buzz
    - 学生报数时，如果所报数字同时是两个特殊数的倍数，也要特殊处理，比如 3 和 5 的倍数，那么不能说该数字，而是要说 FizzBuzz
* 需求二
    - 让所有学生拍成一队，然后按顺序报数。
    - 学生报数时，如果所报数字是 3 的倍数，那么不能说该数字，而要说 Fizz；如果所报数字是 5 的倍数，那么要说 Buzz；如果所报数字是第 7 的倍数，那么要说 Whizz。
    - 学生报数时，如果所报数字同时是两个特殊数的倍数情况下，也要特殊处理，比如 3 和 5 的倍数，那么不能说该数字，而是要说 FizzBuzz, 以此类推。如果同时是三个特殊数的倍数，那么要说 FizzBuzzWhizz。
* 需求三
    - 让所有学生拍成一队，然后按顺序报数。
    - 学生报数时，如果所报数字是 3 的倍数，那么不能说该数字，而要说 Fizz；如果所报数字是 5 的倍数，那么要说 Buzz；如果所报数字是第 7 的倍数，那么要说 Whizz。
    - 学生报数时，如果所报数字同时是两个特殊数的倍数情况下，也要特殊处理，比如 3 和 5 的倍数，那么不能说该数字，而是要说 FizzBuzz, 以此类推。如果同时是三个特殊数的倍数，那么要说 FizzBuzzWhizz。
    - 学生报数时，如果所报数字包含了 3，那么也不能说该数字，而是要说相应的单词，比如要报 13 的同学应该说 Fizz。
    - 如果数字中包含了 3，那么忽略规则 2 和规则 3，比如要报 35 的同学只报 Fizz，不报 BuzzWhizz。
* 需求四
    - 让所有学生拍成一队，然后按顺序报数。
    - 学生报数时，如果所报数字是 3 的倍数，那么不能说该数字，而要说 Fizz；如果所报数字是 5 的倍数，那么要说 Buzz；如果所报数字是第 7 的倍数，那么要说 Whizz。
    - 学生报数时，如果所报数字同时是两个特殊数的倍数情况下，也要特殊处理，比如 3 和 5 的倍数，那么不能说该数字，而是要说 FizzBuzz, 以此类推。如果同时是三个特殊数的倍数，那么要说 FizzBuzzWhizz。
    - 学生报数时，如果所报数字包含了 3，那么也不能说该数字，而是要说相应的单词，比如要报 13 的同学应该说 Fizz。
    - 如果数字中包含了 3，那么忽略规则 2 和规则 3，比如要报 35 的同学只报 Fizz，不报 BuzzWhizz。
    - 如果数字中包含了 5，那么忽略规则 4 和规则 5，并且忽略被 3 整除的判定，比如要报 35 的同学不报 Fizz，报 BuzzWhizz。
    - 如果数字中包含了 7，那么忽略规则 6 中忽略被 3 整除的判定，并且忽略被 5 整除的判定，比如要报 75 的同学只报 Fizz，其他 case 自己补齐。

## 需求1.1

* 打印出从1到100的数字，
* 其中3的倍数替换成“Fizz”，
* 5的倍数替换成“Buzz”，
* 既能被3整除、又能被5整除的数则替换成“FizzBuzz”。
* 代码整洁，没有重复代码
* 有单元测试，单元测试覆盖率100%
* 10分钟内完成
## 参考

* [FizzBuzz 与写代码的 “一万” 个细节](https://insights.thoughtworks.cn/how-to-code-in-right-way/)
